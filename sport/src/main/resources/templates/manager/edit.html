<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Edit Event</title>
  <link rel="stylesheet" th:href="@{/css/forms.css}" />
</head>
<body>
  <button id="darkToggle">ðŸŒ™</button>

  <h2>Edit Event</h2>
  <form th:action="@{/manager/edit}" th:object="${event}" method="post">
    <input type="hidden" th:field="*{id}" />
    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" />

    <input type="text"     id="name"      th:field="*{name}"        placeholder="Event Name"     required />
    <input type="text"     id="place"     th:field="*{place}"       placeholder="Location"       required />
    <input type="number"   id="maxParticipants" th:field="*{maxParticipants}" placeholder="Max Participants" required />

    <div style="margin:10px auto; width:90%;">
      <label for="startsAt">Starts At:</label>
      <input type="datetime-local"
             id="startsAt"
             th:field="*{startsAt}"
             th:value="${startsAtFormatted}"
              />
    </div>

    <div style="margin:10px auto; width:90%;">
      <label for="endsAt">Ends At:</label>
      <input type="datetime-local"
             id="endsAt"
             th:field="*{endsAt}"
             th:value="${endsAtFormatted}"
              />
    </div>
    <div style="width: 200px; margin: 10px auto;">
      <select th:field="*{venueType}" required style="width: 100%; padding: 8px; font-size: 14px;">
        <option value="indoors">Indoors</option>
        <option value="outdoors">Outdoors</option>
      </select>
    </div>  



    <div style="margin: 10px auto; width: 90%;">
      <label for="description">Description:</label>
      <textarea id="description" th:field="*{description}" rows="5" style="width: 100%; font-size: 14px;" placeholder="Enter event description..."></textarea>
    </div>

    <div style="width: 200px; margin: 10px auto;">
      <select th:field="*{status}" required style="width: 100%; padding: 8px; font-size: 14px;">
        <option value="archived">Archived</option>
        <option value="registration_closed">Registration closed</option>
        <option value="active_registration">Active registration</option>
      </select>
    </div>

    <button type="submit">Update Event</button>
  </form>

  <div class="back-link">
    <p><a th:href="@{/main}">Back to Events</a></p>
  </div>

  <script th:src="@{/js/dark-mode.js}" defer></script>
</body>
</html>
